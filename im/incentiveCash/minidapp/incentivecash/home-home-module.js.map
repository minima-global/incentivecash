{"version":3,"sources":["./src/app/home/home-routing.module.ts","./src/app/home/home.page.html","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","export default \"<ion-header class=\\\"ion-no-border\\\" [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      <ion-grid class=\\\"ion-no-padding\\\">\\n        <ion-row>\\n          <ion-col class=\\\"title ion-no-padding ion-text-center\\\">\\n            Minima Incentive Cash\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Blank</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <ion-grid class=\\\"welcome-container\\\">\\n    <ion-row>\\n      <ion-col class=\\\"ion-text-center welcome\\\">\\n        Welcome to the Minima <br>\\n        Incentive Cash MiniDapp\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"has\\\">\\n      <ion-col>\\n        <div class=\\\"blue-ruler\\\"></div>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"has\\\">\\n      <ion-col class=\\\"m-t7 ion-text-center welcome-subtitle\\\">\\n        If you have already signed up for <br> incentive cash, please sign in with <br>\\n        your username & password below.\\n        <br><br>\\n        Or click here to <a>register</a> now\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"getReferenceID()\\\" >\\n    <ion-list>\\n      <ion-item class=\\\"ion-no-padding no-ripple\\\" lines=\\\"none\\\">\\n        <ion-label position=\\\"stacked\\\">Email</ion-label>\\n        <ion-input clearInput=\\\"true\\\" formControlName=\\\"uName\\\"></ion-input>\\n      </ion-item>\\n      <ion-item class=\\\"ion-no-padding no-ripple\\\" lines=\\\"none\\\">\\n        <ion-label position=\\\"stacked\\\">Password</ion-label>\\n        <ion-input clearInput=\\\"true\\\" formControlName=\\\"password\\\" type=\\\"password\\\"></ion-input>\\n      </ion-item>\\n\\n      \\n      <ion-button #getReferenceButton class=\\\"sign-up-btn\\\" fill=\\\"clear\\\" expand=\\\"block\\\" type=\\\"submit\\\">\\n        Sign in\\n      </ion-button>\\n\\n    </ion-list>\\n  </form> \\n\\n  <ion-grid>\\n    <ion-row class=\\\"has\\\">\\n      <ion-col class=\\\"forgot ion-text-center\\\">\\n        Forgot password?\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid class=\\\"login-status-wrapper\\\" [hidden]=\\\"loginStatus.length === 0\\\">\\n    <ion-row class=\\\"has\\\">\\n      <ion-col class=\\\"login-status ion-text-center\\\">\\n        {{ loginStatus }}\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"loginStatus !== 'Sign in failed! Please check your username and password.'\\\" class=\\\"has ion-justify-content-center ion-align-items-center\\\">\\n      <ion-col class=\\\"progress ion-text-center\\\">\\n        <ion-progress-bar color=\\\"primary\\\" type=\\\"indeterminate\\\"></ion-progress-bar> \\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n</ion-content>\\n\\n<ion-footer class=\\\"ion-no-border ion-text-center\\\">\\n  &#169; Copyright 2021 Minima GmbH\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\nimport { HomePageRoutingModule } from './home-routing.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"ion-content {\\n  --padding-top: 25px;\\n  --padding-start: 25px;\\n  --padding-end: 25px;\\n}\\n\\nion-list {\\n  background-color: transparent;\\n  padding: 0;\\n}\\n\\nion-list ion-item {\\n  --background: transparent;\\n  --background-color: transparent;\\n}\\n\\nion-item ion-label {\\n  margin-bottom: 7px;\\n  margin-left: 20px;\\n  margin-bottom: 10px;\\n  font-size: 20px;\\n  color: #AAAABE;\\n  font-family: manrope-medium;\\n}\\n\\nion-input {\\n  font-size: 16px;\\n  color: #000;\\n  border: 1px solid #D1D1DE;\\n  background-color: #fff;\\n  padding-left: 20px !important;\\n}\\n\\nion-grid.login-status-wrapper {\\n  margin-top: 50px;\\n}\\n\\n@media only screen and (max-height: 797px) {\\n  ion-grid.login-status-wrapper {\\n    margin-top: 0px;\\n  }\\n}\\n\\nion-col.login-status {\\n  letter-spacing: -0.02em;\\n  font-family: manrope-regular;\\n  padding: 0;\\n  color: var(--ion-color-primary);\\n  font-size: 14px;\\n}\\n\\nion-col.welcome {\\n  font-size: 20px;\\n  font-family: manrope-regular;\\n  color: #91919d;\\n}\\n\\nion-col.welcome-subtitle {\\n  font-size: 14px;\\n  font-family: manrope-regular;\\n  color: #91919d;\\n}\\n\\nion-col.welcome-subtitle a {\\n  color: #001D33;\\n  font-family: manrope-bold;\\n}\\n\\nion-col.welcome-subtitle a:hover {\\n  color: var(--ion-color-primary);\\n  cursor: pointer;\\n}\\n\\nion-col div.blue-ruler {\\n  max-width: 164px;\\n  margin: auto;\\n  border-bottom: 2px solid var(--ion-color-primary);\\n}\\n\\n@media only screen and (min-width: 990px) {\\n  ion-col div.blue-ruler {\\n    max-width: 376px;\\n  }\\n\\n  ion-content {\\n    --padding-start: 95px;\\n    --padding-end: 95px ;\\n  }\\n}\\n\\nion-row.has ion-col.forgot {\\n  font-size: 18px;\\n  color: #AAAABE;\\n  font-family: manrope-medium;\\n}\\n\\nion-row.has ion-col.forgot:hover {\\n  color: var(--ion-color-primary);\\n  cursor: pointer;\\n}\\n\\nion-row.has ion-col.progress {\\n  max-width: 120px;\\n}\\n\\nion-row.has ion-col.progress ion-progress-bar {\\n  margin: 0;\\n  padding: 0;\\n  --buffer-background: #FAFAFF;\\n}\\n\\nion-row.has ion-col.failure {\\n  font-family: manrope-bold;\\n  font-size: 30px;\\n  color: #031B32;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2hvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0FBQUY7O0FBRUE7RUFDRSw2QkFBQTtFQUNBLFVBQUE7QUFDRjs7QUFDQTtFQUNFLHlCQUFBO0VBQ0EsK0JBQUE7QUFFRjs7QUFBQTtFQUNFLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsMkJBQUE7QUFHRjs7QUFEQTtFQUNFLGVBQUE7RUFDQSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxzQkFBQTtFQUNBLDZCQUFBO0FBSUY7O0FBRkE7RUFDRSxnQkFBQTtBQUtGOztBQUhBO0VBQ0U7SUFDRSxlQUFBO0VBTUY7QUFDRjs7QUFKQTtFQUNFLHVCQUFBO0VBQ0EsNEJBQUE7RUFDQSxVQUFBO0VBQ0EsK0JBQUE7RUFDQSxlQUFBO0FBTUY7O0FBSkE7RUFDRSxlQUFBO0VBQ0EsNEJBQUE7RUFDQSxjQUFBO0FBT0Y7O0FBTEE7RUFDRSxlQUFBO0VBQ0EsNEJBQUE7RUFDQSxjQUFBO0FBUUY7O0FBUEU7RUFDRSxjQUFBO0VBQ0EseUJBQUE7QUFTSjs7QUFQRTtFQUNFLCtCQUFBO0VBQ0EsZUFBQTtBQVNKOztBQU5BO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsaURBQUE7QUFTRjs7QUFQQTtFQUNFO0lBQ0UsZ0JBQUE7RUFVRjs7RUFSQTtJQUNFLHFCQUFBO0lBQ0Esb0JBQUE7RUFXRjtBQUNGOztBQVRBO0VBQ0UsZUFBQTtFQUNBLGNBQUE7RUFDQSwyQkFBQTtBQVdGOztBQVRBO0VBQ0UsK0JBQUE7RUFDQSxlQUFBO0FBWUY7O0FBVkE7RUFDRSxnQkFBQTtBQWFGOztBQVhBO0VBQ0UsU0FBQTtFQUNBLFVBQUE7RUFDQSw0QkFBQTtBQWNGOztBQVpBO0VBQ0UseUJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQWVGIiwiZmlsZSI6ImhvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pb24tY29udGVudCB7XG4gIC0tcGFkZGluZy10b3A6IDI1cHg7XG4gIC0tcGFkZGluZy1zdGFydDogMjVweDtcbiAgLS1wYWRkaW5nLWVuZDogMjVweDtcbn1cbmlvbi1saXN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIHBhZGRpbmc6IDA7XG59XG5pb24tbGlzdCBpb24taXRlbSB7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIC0tYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5pb24taXRlbSBpb24tbGFiZWwge1xuICBtYXJnaW4tYm90dG9tOiA3cHg7XG4gIG1hcmdpbi1sZWZ0OiAyMHB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBmb250LXNpemU6IDIwcHg7XG4gIGNvbG9yOiAjQUFBQUJFO1xuICBmb250LWZhbWlseTogbWFucm9wZS1tZWRpdW07XG59XG5pb24taW5wdXQge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGNvbG9yOiAjMDAwO1xuICBib3JkZXI6IDFweCBzb2xpZCAjRDFEMURFO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBwYWRkaW5nLWxlZnQ6IDIwcHggIWltcG9ydGFudDtcbn1cbmlvbi1ncmlkLmxvZ2luLXN0YXR1cy13cmFwcGVyIHtcbiAgbWFyZ2luLXRvcDogNTBweDtcbn1cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC1oZWlnaHQ6IDc5N3B4KSB7XG4gIGlvbi1ncmlkLmxvZ2luLXN0YXR1cy13cmFwcGVyIHtcbiAgICBtYXJnaW4tdG9wOiAwcHg7XG4gIH1cbn1cbmlvbi1jb2wubG9naW4tc3RhdHVzIHtcbiAgbGV0dGVyLXNwYWNpbmc6IC0wLjAyZW07XG4gIGZvbnQtZmFtaWx5OiBtYW5yb3BlLXJlZ3VsYXI7XG4gIHBhZGRpbmc6IDA7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cbmlvbi1jb2wud2VsY29tZSB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgZm9udC1mYW1pbHk6IG1hbnJvcGUtcmVndWxhcjtcbiAgY29sb3I6ICM5MTkxOWQ7XG59XG5pb24tY29sLndlbGNvbWUtc3VidGl0bGUge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtZmFtaWx5OiBtYW5yb3BlLXJlZ3VsYXI7XG4gIGNvbG9yOiAjOTE5MTlkO1xuICBhIHtcbiAgICBjb2xvcjogIzAwMUQzMztcbiAgICBmb250LWZhbWlseTogbWFucm9wZS1ib2xkO1xuICB9XG4gIGE6aG92ZXIge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG59XG5pb24tY29sIGRpdi5ibHVlLXJ1bGVyIHsgIFxuICBtYXgtd2lkdGg6IDE2NHB4O1xuICBtYXJnaW46IGF1dG87XG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDk5MHB4KSB7XG4gIGlvbi1jb2wgZGl2LmJsdWUtcnVsZXIge1xuICAgIG1heC13aWR0aDogMzc2cHg7XG4gIH1cbiAgaW9uLWNvbnRlbnQge1xuICAgIC0tcGFkZGluZy1zdGFydDogOTVweDtcbiAgICAtLXBhZGRpbmctZW5kOiA5NXB4XG4gIH1cbn1cbmlvbi1yb3cuaGFzIGlvbi1jb2wuZm9yZ290IHtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBjb2xvcjogI0FBQUFCRTtcbiAgZm9udC1mYW1pbHk6IG1hbnJvcGUtbWVkaXVtO1xufVxuaW9uLXJvdy5oYXMgaW9uLWNvbC5mb3Jnb3Q6aG92ZXIge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5pb24tcm93LmhhcyBpb24tY29sLnByb2dyZXNzIHtcbiAgbWF4LXdpZHRoOiAxMjBweFxufVxuaW9uLXJvdy5oYXMgaW9uLWNvbC5wcm9ncmVzcyBpb24tcHJvZ3Jlc3MtYmFyIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICAtLWJ1ZmZlci1iYWNrZ3JvdW5kOiAjRkFGQUZGO1xufVxuaW9uLXJvdy5oYXMgaW9uLWNvbC5mYWlsdXJlIHtcbiAgZm9udC1mYW1pbHk6IG1hbnJvcGUtYm9sZDtcbiAgZm9udC1zaXplOiAzMHB4O1xuICBjb2xvcjogIzAzMUIzMjtcbn0iXX0= */\";","import { StoreService, UserDetails } from './../api/store.service';\nimport { Component, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Minima } from 'minima';\nimport { IonButton } from '@ionic/angular';\nimport { SlowBuffer } from 'buffer';\n\ninterface User {\n  email: string\n  password: string\n}\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\n\nexport class HomePage  {\n\n  @ViewChild('getReferenceButton', {static: false}) getReferenceButton: IonButton;\n\n  public loginForm: FormGroup;\n  loginStatus = '';\n\n  constructor(\n    public formBuilder: FormBuilder,\n    private router: Router,\n    private _storeService: StoreService) {}\n\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      uName: '',\n      password: '',\n      pKey: ''\n    });\n  }\n\n  getReferenceID() {\n    const user = {\n      email: this.username.value, \n      password: this.password.value\n    };\n    this.loginStatus = 'Logging in...';\n    this.getReferenceButton.disabled = true;\n    this.login(user);\n  }\n\n  getPubKey() {\n    this._storeService.getUserDetailsOnce().then((user: UserDetails) => {\n      const data = {\n        userid: user.refID\n      }\n      const url = 'https://incentivedb.minima.global/custom/utils/getKey';\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer `+user.loginData.access_token\n        },\n        body: JSON.stringify(data)\n      })\n      .then(response => {\n        if (!response.ok) {\n          this.loginStatus = 'Login failed!  Public key not found!';\n          const statusText = response.statusText;\n          return response.json()\n          .then((data) => {\n            throw new Error(statusText)\n          })\n        }\n        return response.json()\n      })\n      .then(data => {\n        // check if current key exists on server\n        if (data.publickeys && data.publickeys.length === 0) {\n          // post a new key\n          this.postAKey(user.refID);\n        } else {\n          // check current keys with remote keys to find a match\n          let nodeKeys = [];\n          let serverKeys = data.publickeys;\n\n          Minima.cmd('keys', (res: any) => {\n            if (res.status) {\n              // console.log(res);\n              res.response.publickeys.forEach(element => {\n                nodeKeys.push(element);\n              });\n            }\n            // matching keys found\n            const intersection = nodeKeys.filter(element => serverKeys.includes(element.publickey));\n            if (intersection.length === 0) {\n              this.postAKey(user.refID);\n            } else {\n              this.loginStatus = 'Login successful!';\n              this.router.navigate(['/cash']);\n              this.loginForm.reset();\n              this.loginStatus = '';\n              let temp = user;\n              temp.pKey = intersection[0].publickey;\n              this._storeService.data.next(temp);\n            }\n          });\n        }\n      })\n    });\n  }\n\n  postAKey(uid: string) {\n    const url = 'https://incentivedb.minima.global/custom/minima/key';\n    Minima.cmd('keys new', (response: any) => {\n      if (response.status) {\n        const data = {\n          userid: uid,\n          publickey: response.response.key.publickey\n        }\n        fetch(url, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        })\n        .then(res => {\n          if (!res.ok) {\n            this.loginStatus = 'Login failed!  Public key not found!';\n            const statusText = response.statusText;\n            return res.json()\n            .then((data) => {\n              throw new Error(statusText);\n            })\n          }\n          return res.json()\n        })\n        .then(data => {\n          this.loginStatus = 'Login successful!';\n          this.router.navigate(['/cash']);\n          this.loginForm.reset();\n          this.loginStatus = '';\n          this._storeService.getUserDetailsOnce().then((user: UserDetails) => {\n            //console.log('Stored new pubkey');\n            let temp = user;\n            temp.pKey = response.response.key.publickey;\n            this._storeService.data.next(temp);\n          });\n        })\n        .catch(error => {\n          alert(error);\n        })\n      }\n    });\n  }\n\n  login(user: User) {\n    const url = 'https://incentivedb.minima.global/auth/login';\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then((res: any) => {\n      if (!res.ok) {\n        this.loginStatus = 'Sign in failed! Please check your username and password.';\n        this.getReferenceButton.disabled = false;\n\n        let statusText = res.statusText;\n        return res.json()\n        .then((data) => {\n          throw new Error(statusText)\n        })\n      }\n      return res.json()\n    })\n    .then(data => {\n      this.loginStatus = 'Authenticated!  Checking public key...';\n      // accessToken\n      const token = {\n        accessToken: data.data.access_token,\n        refreshToken: data.data.refresh_token,\n        info: {}\n      }\n      const url = 'https://incentivedb.minima.global/users/me?access_token='+token.accessToken+'';\n      Minima.net.GET(url, (res: any) => {\n        let plainResponse = decodeURIComponent(res.result);\n        let data = JSON.parse(plainResponse);\n        if (data && data.data.id.length !== 0) {\n          let user: UserDetails = {\n            email: this.username.value,\n            pKey: '',\n            refID: data.data.id,\n            loginData: {\n              access_token: token.accessToken,\n              refresh_token: token.refreshToken\n            }\n          }\n          this._storeService.data.next(user);          \n        } else {\n          console.log('Failed to retrieve user details from server..');\n        }\n\n      });\n      this.getPubKey();\n\n    })\n    .catch(error => {\n      alert(error);\n    })\n  .catch(error => {\n    alert(error);\n  })\n\n  this.getReferenceButton.disabled = false;\n  this.loginStatus = '';\n  //this.loginForm.reset();\n  }\n\n  get username() {\n    return this.loginForm.get('uName');\n  }\n  get password() {\n    return this.loginForm.get('password');\n  }\n  get publickey() {\n    return this.loginForm.get('pKey');\n  }\n\n}\n"],"sourceRoot":"webpack:///"}